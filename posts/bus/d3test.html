<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <style>
    body { margin:0;position:fixed;top:0;right:0;bottom:0;left:0; }
  </style>
</head>

<body>
  <script>
    // Feel free to change or delete any of the code you see in this editor!
    var svg = d3.select("body").append("svg")
      .attr("width", 960)
      .attr("height", 500)

    var svgDefinitions = svg.append("defs");
    var linearGradientTextLabel = svgDefinitions.append("linearGradient");
    
    console.log(svgDefinitions);
    
    linearGradientTextLabel
      .attr("id", "textBg")
      .attr("x1", "0")
      .attr("x2", "1")
      .attr("y1", "0")
      .attr("y2", "0");
    
    // https://github.com/d3/d3-3.x-api-reference/blob/master/Selections.md#append
    // append returns the new selection
    linearGradientTextLabel.append("stop")
      .attr("offset", "0%")
      .attr("stop-color", "green")
      .attr("stop-opacity", "0")
    linearGradientTextLabel.append("stop")
      .attr("offset", "10%")
      .attr("stop-color", "green")
      .attr("stop-opacity", "1")
    linearGradientTextLabel.append("stop")
      .attr("offset", "20%")
      .attr("stop-color", "green")
    
    svg.append("rect")
    	.attr("y", 150)
      .attr("x", 120)
      .attr("width", 600)
      .attr("height", 50)
    	.attr("fill", "url(#textBg)")
    	.attr("stroke", "black")

    svg.append("text")
      .text("Text with the background")
      .attr("y", 190)
      .attr("x", 150)
      .attr("font-size", 36)
      .attr("font-family", "monospace")
      .attr("fill", "white");
  </script>
</body>
